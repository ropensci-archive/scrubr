<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Clean Biological Occurrence Records • scrubr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Clean Biological Occurrence Records">
<meta property="og:description" content="Clean biological occurrence records. Includes functionality
    for cleaning based on various aspects of spatial coordinates,
    unlikely values due to political 'centroids', coordinates based on
    where collections of specimens are held, and more.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">scrubr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.4.9100</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/scrubr.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropensci/scrubr">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<div id="scrubr" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#scrubr" class="anchor"></a>scrubr</h1></div>

<p><strong>Clean Biological Occurrence Records</strong></p>
<p>Clean using the following use cases (checkmarks indicate fxns exist - not necessarily complete):</p>
<ul>
<li>[x] Impossible lat/long values: e.g., latitude 75</li>
<li>[x] Incomplete cases: one or the other of lat/long missing</li>
<li>[x] Unlikely lat/long values: e.g., points at 0,0</li>
<li>[x] Deduplication: try to identify duplicates, esp. when pulling data from multiple sources, e.g., can try to use occurrence IDs, if provided</li>
<li>[x] Date based cleaning</li>
<li>[x] Outside political boundary: User input to check for points in the wrong country, or points outside of a known country</li>
<li>[x] Taxonomic name based cleaning: via <code>taxize</code> (one method so far)</li>
<li>Political centroids: unlikely that occurrences fall exactly on these points, more likely a default position (Draft function started, but not exported, and commented out). see <a href="https://github.com/ropensci/scrubr/issues/6">issue #6</a>
</li>
<li>Herbaria/Museums: many specimens may have location of the collection they are housed in, see <a href="https://github.com/ropensci/scrubr/issues/20">issue #20</a>
</li>
<li>Habitat type filtering: e.g., fish should not be on land; marine fish should not be in fresh water</li>
<li>Check for contextually wrong values: That is, if 99 out of 100 lat/long coordinates are within the continental US, but 1 is in China, then perhaps something is wrong with that one point</li>
<li>Collector/recorder names: see <a href="https://github.com/ropensci/scrubr/issues/19">issue #19</a>
</li>
<li>…</li>
</ul>
<p>A note about examples: We think that using a piping workflow with <code>%&gt;%</code> makes code easier to build up, and easier to understand. However, in some examples we provide examples without the pipe to demonstrate traditional usage.</p>
<div id="install" class="section level2">
<h2 class="hasAnchor">
<a href="#install" class="anchor"></a>Install</h2>
<p>Stable CRAN version</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"scrubr"</span>)</a></code></pre></div>
<p>Development version</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">devtools<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/devtools/man/reexports.html">install_github</a></span>(<span class="st">"ropensci/scrubr"</span>)</a></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"scrubr"</span>)</a></code></pre></div>
</div>
<div id="coordinate-based-cleaning" class="section level2">
<h2 class="hasAnchor">
<a href="#coordinate-based-cleaning" class="anchor"></a>Coordinate based cleaning</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"sampledata1"</span>)</a></code></pre></div>
<p>Remove impossible coordinates (using sample data included in the pkg)</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># coord_impossible(dframe(sample_data_1)) # w/o pipe</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="kw"><a href="reference/dframe.html">dframe</a></span>(sample_data_<span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="reference/coords.html">coord_impossible</a></span>()</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co">#&gt; # A tibble: 1,500 x 5</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">#&gt;    name             longitude latitude date                       key</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">#&gt;  * &lt;chr&gt;                &lt;dbl&gt;    &lt;dbl&gt; &lt;dttm&gt;                   &lt;int&gt;</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co">#&gt;  1 Ursus americanus     -79.7     38.4 2015-01-14 16:36:45 1065590124</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">#&gt;  2 Ursus americanus     -82.4     35.7 2015-01-13 00:25:39 1065588899</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co">#&gt;  3 Ursus americanus     -99.1     23.7 2015-02-20 23:00:00 1098894889</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co">#&gt;  4 Ursus americanus     -72.8     43.9 2015-02-13 16:16:41 1065611122</span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co">#&gt;  5 Ursus americanus     -72.3     43.9 2015-03-01 20:20:45 1088908315</span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="co">#&gt;  6 Ursus americanus    -109.      32.7 2015-03-29 17:06:54 1088932238</span></a>
<a class="sourceLine" id="cb5-12" data-line-number="12"><span class="co">#&gt;  7 Ursus americanus    -109.      32.7 2015-03-29 17:12:50 1088932273</span></a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="co">#&gt;  8 Ursus americanus    -124.      40.1 2015-03-28 23:00:00 1132403409</span></a>
<a class="sourceLine" id="cb5-14" data-line-number="14"><span class="co">#&gt;  9 Ursus americanus     -78.3     36.9 2015-03-20 21:11:24 1088923534</span></a>
<a class="sourceLine" id="cb5-15" data-line-number="15"><span class="co">#&gt; 10 Ursus americanus     -76.8     35.5 2015-04-05 23:00:00 1088954559</span></a>
<a class="sourceLine" id="cb5-16" data-line-number="16"><span class="co">#&gt; # … with 1,490 more rows</span></a></code></pre></div>
<p>Remove incomplete coordinates</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="co"># coord_incomplete(dframe(sample_data_1)) # w/o pipe</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw"><a href="reference/dframe.html">dframe</a></span>(sample_data_<span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="reference/coords.html">coord_incomplete</a></span>()</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">#&gt; # A tibble: 1,306 x 5</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co">#&gt;    name             longitude latitude date                       key</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt;  * &lt;chr&gt;                &lt;dbl&gt;    &lt;dbl&gt; &lt;dttm&gt;                   &lt;int&gt;</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">#&gt;  1 Ursus americanus     -79.7     38.4 2015-01-14 16:36:45 1065590124</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt;  2 Ursus americanus     -82.4     35.7 2015-01-13 00:25:39 1065588899</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="co">#&gt;  3 Ursus americanus     -99.1     23.7 2015-02-20 23:00:00 1098894889</span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="co">#&gt;  4 Ursus americanus     -72.8     43.9 2015-02-13 16:16:41 1065611122</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="co">#&gt;  5 Ursus americanus     -72.3     43.9 2015-03-01 20:20:45 1088908315</span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="co">#&gt;  6 Ursus americanus    -109.      32.7 2015-03-29 17:06:54 1088932238</span></a>
<a class="sourceLine" id="cb6-12" data-line-number="12"><span class="co">#&gt;  7 Ursus americanus    -109.      32.7 2015-03-29 17:12:50 1088932273</span></a>
<a class="sourceLine" id="cb6-13" data-line-number="13"><span class="co">#&gt;  8 Ursus americanus    -124.      40.1 2015-03-28 23:00:00 1132403409</span></a>
<a class="sourceLine" id="cb6-14" data-line-number="14"><span class="co">#&gt;  9 Ursus americanus     -78.3     36.9 2015-03-20 21:11:24 1088923534</span></a>
<a class="sourceLine" id="cb6-15" data-line-number="15"><span class="co">#&gt; 10 Ursus americanus     -76.8     35.5 2015-04-05 23:00:00 1088954559</span></a>
<a class="sourceLine" id="cb6-16" data-line-number="16"><span class="co">#&gt; # … with 1,296 more rows</span></a></code></pre></div>
<p>Remove unlikely coordinates (e.g., those at 0,0)</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="co"># coord_unlikely(dframe(sample_data_1)) # w/o pipe</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="kw"><a href="reference/dframe.html">dframe</a></span>(sample_data_<span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="reference/coords.html">coord_unlikely</a></span>()</a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="co">#&gt; # A tibble: 1,488 x 5</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="co">#&gt;    name             longitude latitude date                       key</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="co">#&gt;  * &lt;chr&gt;                &lt;dbl&gt;    &lt;dbl&gt; &lt;dttm&gt;                   &lt;int&gt;</span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="co">#&gt;  1 Ursus americanus     -79.7     38.4 2015-01-14 16:36:45 1065590124</span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="co">#&gt;  2 Ursus americanus     -82.4     35.7 2015-01-13 00:25:39 1065588899</span></a>
<a class="sourceLine" id="cb7-8" data-line-number="8"><span class="co">#&gt;  3 Ursus americanus     -99.1     23.7 2015-02-20 23:00:00 1098894889</span></a>
<a class="sourceLine" id="cb7-9" data-line-number="9"><span class="co">#&gt;  4 Ursus americanus     -72.8     43.9 2015-02-13 16:16:41 1065611122</span></a>
<a class="sourceLine" id="cb7-10" data-line-number="10"><span class="co">#&gt;  5 Ursus americanus     -72.3     43.9 2015-03-01 20:20:45 1088908315</span></a>
<a class="sourceLine" id="cb7-11" data-line-number="11"><span class="co">#&gt;  6 Ursus americanus    -109.      32.7 2015-03-29 17:06:54 1088932238</span></a>
<a class="sourceLine" id="cb7-12" data-line-number="12"><span class="co">#&gt;  7 Ursus americanus    -109.      32.7 2015-03-29 17:12:50 1088932273</span></a>
<a class="sourceLine" id="cb7-13" data-line-number="13"><span class="co">#&gt;  8 Ursus americanus    -124.      40.1 2015-03-28 23:00:00 1132403409</span></a>
<a class="sourceLine" id="cb7-14" data-line-number="14"><span class="co">#&gt;  9 Ursus americanus     -78.3     36.9 2015-03-20 21:11:24 1088923534</span></a>
<a class="sourceLine" id="cb7-15" data-line-number="15"><span class="co">#&gt; 10 Ursus americanus     -76.8     35.5 2015-04-05 23:00:00 1088954559</span></a>
<a class="sourceLine" id="cb7-16" data-line-number="16"><span class="co">#&gt; # … with 1,478 more rows</span></a></code></pre></div>
<p>Do all three</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="reference/dframe.html">dframe</a></span>(sample_data_<span class="dv">1</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/coords.html">coord_impossible</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="reference/coords.html">coord_incomplete</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="reference/coords.html">coord_unlikely</a></span>()</a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="co">#&gt; # A tibble: 1,294 x 5</span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="co">#&gt;    name             longitude latitude date                       key</span></a>
<a class="sourceLine" id="cb8-7" data-line-number="7"><span class="co">#&gt;  * &lt;chr&gt;                &lt;dbl&gt;    &lt;dbl&gt; &lt;dttm&gt;                   &lt;int&gt;</span></a>
<a class="sourceLine" id="cb8-8" data-line-number="8"><span class="co">#&gt;  1 Ursus americanus     -79.7     38.4 2015-01-14 16:36:45 1065590124</span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9"><span class="co">#&gt;  2 Ursus americanus     -82.4     35.7 2015-01-13 00:25:39 1065588899</span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10"><span class="co">#&gt;  3 Ursus americanus     -99.1     23.7 2015-02-20 23:00:00 1098894889</span></a>
<a class="sourceLine" id="cb8-11" data-line-number="11"><span class="co">#&gt;  4 Ursus americanus     -72.8     43.9 2015-02-13 16:16:41 1065611122</span></a>
<a class="sourceLine" id="cb8-12" data-line-number="12"><span class="co">#&gt;  5 Ursus americanus     -72.3     43.9 2015-03-01 20:20:45 1088908315</span></a>
<a class="sourceLine" id="cb8-13" data-line-number="13"><span class="co">#&gt;  6 Ursus americanus    -109.      32.7 2015-03-29 17:06:54 1088932238</span></a>
<a class="sourceLine" id="cb8-14" data-line-number="14"><span class="co">#&gt;  7 Ursus americanus    -109.      32.7 2015-03-29 17:12:50 1088932273</span></a>
<a class="sourceLine" id="cb8-15" data-line-number="15"><span class="co">#&gt;  8 Ursus americanus    -124.      40.1 2015-03-28 23:00:00 1132403409</span></a>
<a class="sourceLine" id="cb8-16" data-line-number="16"><span class="co">#&gt;  9 Ursus americanus     -78.3     36.9 2015-03-20 21:11:24 1088923534</span></a>
<a class="sourceLine" id="cb8-17" data-line-number="17"><span class="co">#&gt; 10 Ursus americanus     -76.8     35.5 2015-04-05 23:00:00 1088954559</span></a>
<a class="sourceLine" id="cb8-18" data-line-number="18"><span class="co">#&gt; # … with 1,284 more rows</span></a></code></pre></div>
<p>Don’t drop bad data</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw"><a href="reference/dframe.html">dframe</a></span>(sample_data_<span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="reference/coords.html">coord_incomplete</a></span>(<span class="dt">drop =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>NROW</a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="co">#&gt; [1] 1306</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="kw"><a href="reference/dframe.html">dframe</a></span>(sample_data_<span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="reference/coords.html">coord_incomplete</a></span>(<span class="dt">drop =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span><span class="st"> </span>NROW</a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="co">#&gt; [1] 1500</span></a></code></pre></div>
</div>
<div id="deduplicate" class="section level2">
<h2 class="hasAnchor">
<a href="#deduplicate" class="anchor"></a>Deduplicate</h2>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">smalldf &lt;-<span class="st"> </span>sample_data_<span class="dv">1</span>[<span class="dv">1</span><span class="op">:</span><span class="dv">20</span>, ]</a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="co"># create a duplicate record</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3">smalldf &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span>(smalldf, smalldf[<span class="dv">10</span>,])</a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="kw"><a href="https://rdrr.io/r/base/row.names.html">row.names</a></span>(smalldf) &lt;-<span class="st"> </span><span class="ot">NULL</span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5"><span class="co"># make it slightly different</span></a>
<a class="sourceLine" id="cb10-6" data-line-number="6">smalldf[<span class="dv">21</span>, <span class="st">"key"</span>] &lt;-<span class="st"> </span><span class="dv">1088954555</span></a>
<a class="sourceLine" id="cb10-7" data-line-number="7"><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">NROW</a></span>(smalldf)</a>
<a class="sourceLine" id="cb10-8" data-line-number="8"><span class="co">#&gt; [1] 21</span></a>
<a class="sourceLine" id="cb10-9" data-line-number="9">dp &lt;-<span class="st"> </span><span class="kw"><a href="reference/dframe.html">dframe</a></span>(smalldf) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="reference/dedup.html">dedup</a></span>()</a>
<a class="sourceLine" id="cb10-10" data-line-number="10"><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">NROW</a></span>(dp)</a>
<a class="sourceLine" id="cb10-11" data-line-number="11"><span class="co">#&gt; [1] 20</span></a>
<a class="sourceLine" id="cb10-12" data-line-number="12"><span class="kw"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(dp, <span class="st">"dups"</span>)</a>
<a class="sourceLine" id="cb10-13" data-line-number="13"><span class="co">#&gt; # A tibble: 1 x 5</span></a>
<a class="sourceLine" id="cb10-14" data-line-number="14"><span class="co">#&gt;   name             longitude latitude date                       key</span></a>
<a class="sourceLine" id="cb10-15" data-line-number="15"><span class="co">#&gt;   &lt;chr&gt;                &lt;dbl&gt;    &lt;dbl&gt; &lt;dttm&gt;                   &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb10-16" data-line-number="16"><span class="co">#&gt; 1 Ursus americanus     -76.8     35.5 2015-04-05 23:00:00 1088954555</span></a></code></pre></div>
</div>
<div id="dates" class="section level2">
<h2 class="hasAnchor">
<a href="#dates" class="anchor"></a>Dates</h2>
<p>Standardize/convert dates</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">df &lt;-<span class="st"> </span>sample_data_<span class="dv">1</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="co"># date_standardize(dframe(df), "%d%b%Y") # w/o pipe</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="kw"><a href="reference/dframe.html">dframe</a></span>(df) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="reference/date.html">date_standardize</a></span>(<span class="st">"%d%b%Y"</span>)</a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="co">#&gt; # A tibble: 1,500 x 5</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="co">#&gt;    name             longitude latitude date             key</span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6"><span class="co">#&gt;    &lt;chr&gt;                &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt;          &lt;int&gt;</span></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="co">#&gt;  1 Ursus americanus     -79.7     38.4 14Jan2015 1065590124</span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8"><span class="co">#&gt;  2 Ursus americanus     -82.4     35.7 13Jan2015 1065588899</span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9"><span class="co">#&gt;  3 Ursus americanus     -99.1     23.7 20Feb2015 1098894889</span></a>
<a class="sourceLine" id="cb11-10" data-line-number="10"><span class="co">#&gt;  4 Ursus americanus     -72.8     43.9 13Feb2015 1065611122</span></a>
<a class="sourceLine" id="cb11-11" data-line-number="11"><span class="co">#&gt;  5 Ursus americanus     -72.3     43.9 01Mar2015 1088908315</span></a>
<a class="sourceLine" id="cb11-12" data-line-number="12"><span class="co">#&gt;  6 Ursus americanus    -109.      32.7 29Mar2015 1088932238</span></a>
<a class="sourceLine" id="cb11-13" data-line-number="13"><span class="co">#&gt;  7 Ursus americanus    -109.      32.7 29Mar2015 1088932273</span></a>
<a class="sourceLine" id="cb11-14" data-line-number="14"><span class="co">#&gt;  8 Ursus americanus    -124.      40.1 28Mar2015 1132403409</span></a>
<a class="sourceLine" id="cb11-15" data-line-number="15"><span class="co">#&gt;  9 Ursus americanus     -78.3     36.9 20Mar2015 1088923534</span></a>
<a class="sourceLine" id="cb11-16" data-line-number="16"><span class="co">#&gt; 10 Ursus americanus     -76.8     35.5 05Apr2015 1088954559</span></a>
<a class="sourceLine" id="cb11-17" data-line-number="17"><span class="co">#&gt; # … with 1,490 more rows</span></a></code></pre></div>
<p>Drop records without dates</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">NROW</a></span>(df)</a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="co">#&gt; [1] 1500</span></a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">NROW</a></span>(<span class="kw"><a href="reference/dframe.html">dframe</a></span>(df) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="reference/date.html">date_missing</a></span>())</a>
<a class="sourceLine" id="cb12-4" data-line-number="4"><span class="co">#&gt; [1] 1498</span></a></code></pre></div>
<p>Create date field from other fields</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw"><a href="reference/dframe.html">dframe</a></span>(sample_data_<span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="reference/date.html">date_create</a></span>(year, month, day)</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="co">#&gt; # A tibble: 1,500 x 8</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="co">#&gt;    name            longitude latitude       key year  month day   date     </span></a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="co">#&gt;    &lt;chr&gt;               &lt;dbl&gt;    &lt;dbl&gt;     &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    </span></a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="co">#&gt;  1 Ursus american…     -79.7     38.4    1.07e9 2015  01    14    2015-01-…</span></a>
<a class="sourceLine" id="cb13-6" data-line-number="6"><span class="co">#&gt;  2 Ursus american…     -82.4     35.7    1.07e9 2015  01    13    2015-01-…</span></a>
<a class="sourceLine" id="cb13-7" data-line-number="7"><span class="co">#&gt;  3 Ursus american…     -99.1     23.7    1.10e9 2015  02    20    2015-02-…</span></a>
<a class="sourceLine" id="cb13-8" data-line-number="8"><span class="co">#&gt;  4 Ursus american…     -72.8     43.9    1.07e9 2015  02    13    2015-02-…</span></a>
<a class="sourceLine" id="cb13-9" data-line-number="9"><span class="co">#&gt;  5 Ursus american…     -72.3     43.9    1.09e9 2015  03    01    2015-03-…</span></a>
<a class="sourceLine" id="cb13-10" data-line-number="10"><span class="co">#&gt;  6 Ursus american…    -109.      32.7    1.09e9 2015  03    29    2015-03-…</span></a>
<a class="sourceLine" id="cb13-11" data-line-number="11"><span class="co">#&gt;  7 Ursus american…    -109.      32.7    1.09e9 2015  03    29    2015-03-…</span></a>
<a class="sourceLine" id="cb13-12" data-line-number="12"><span class="co">#&gt;  8 Ursus american…    -124.      40.1    1.13e9 2015  03    28    2015-03-…</span></a>
<a class="sourceLine" id="cb13-13" data-line-number="13"><span class="co">#&gt;  9 Ursus american…     -78.3     36.9    1.09e9 2015  03    20    2015-03-…</span></a>
<a class="sourceLine" id="cb13-14" data-line-number="14"><span class="co">#&gt; 10 Ursus american…     -76.8     35.5    1.09e9 2015  04    05    2015-04-…</span></a>
<a class="sourceLine" id="cb13-15" data-line-number="15"><span class="co">#&gt; # … with 1,490 more rows</span></a></code></pre></div>
</div>
<div id="meta" class="section level2">
<h2 class="hasAnchor">
<a href="#meta" class="anchor"></a>Meta</h2>
<ul>
<li>Please <a href="https://github.com/ropensci/scrubr/issues">report any issues or bugs</a>.</li>
<li>License: MIT</li>
<li>Get citation information for <code>scrubr</code> in R doing <code><a href="https://rdrr.io/r/utils/citation.html">citation(package = 'scrubr')</a></code>
</li>
<li>Please note that this project is released with a <a href="CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</li>
</ul>
<p><a href="https://ropensci.org"><img src="https://ropensci.org/public_images/github_footer.png" alt="ropensci_footer"></a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=scrubr">https://​cloud.r-project.org/​package=scrubr</a>
</li>
<li>Browse source code at <br><a href="https://github.com/ropensci/scrubr">https://​github.com/​ropensci/​scrubr</a>
</li>
<li>Report a bug at <br><a href="https://github.com/ropensci/scrubr/issues">https://​github.com/​ropensci/​scrubr/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Scott Chamberlain <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/ropensci/scrubr"><img src="https://travis-ci.org/ropensci/scrubr.svg?branch=master" alt="Build Status"></a></li>
<li><a href="https://cranchecks.info/pkgs/scrubr"><img src="https://cranchecks.info/badges/worst/scrubr" alt="cran checks"></a></li>
<li><a href="http://codecov.io/github/ropensci/scrubr?branch=master"><img src="http://codecov.io/github/ropensci/scrubr/coverage.svg?branch=master" alt="codecov.io"></a></li>
<li><a href="https://github.com/metacran/cranlogs.app"><img src="http://cranlogs.r-pkg.org/badges/grand-total/scrubr?color=ff69b4" alt="rstudio mirror downloads"></a></li>
<li><a href="https://cran.r-project.org/package=scrubr"><img src="http://www.r-pkg.org/badges/version/scrubr" alt="cran version"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Scott Chamberlain.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9100.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
